/*=========================================================================
|| FILE: _forms.less
===========================================================================
|| Collections: checkbox, radio, input, input-group
=========================================================================*/

/**
 * Default Input
 */
.input {
    position: relative;

    /* Hide oryginal radio element */
    input {
        border: 0 !important;
        clip: rect(0 0 0 0) !important;
        -webkit-clip-path: inset(50%) !important;
        clip-path: inset(50%) !important;
        height: 1px !important;
        overflow: hidden !important;
        padding: 0 !important;
        position: absolute !important;
        width: 1px !important;
        white-space: nowrap !important;
        bottom: 0 !important;
        position: absolute !important;
        left: 50% !important;

        /* Block user select when input is disabled */
        &:disabled {
            & + .input-radio {
                &__label {
                    user-select: none;
                    pointer-events: none;
                    opacity: 0.4;
                }
            }
        }

        /* Checked */
        & + .input-radio {
            /* Radio element mark fill */
            &__label .input-radio__input--mark-color {
                &:before {
                    opacity: 1;
                }
            }
            /* Radio element mark icon */
            &__label .input-radio__mark {
                opacity: 1;
            }
        }

    }
}

/**
 * Input Checkbox
 */
.input-checkbox {

    /* Fake checkbox input */
    &__input {
        transition+: border-color @time-transition; 
        // Size
        width: 20px;
        height: 20px; 
        // Position
        position: absolute;
        top: 0;
        left: 0;
        // Style
        border: 1px solid @color-primary;

        /**
         * Style for using SVG for checkbox element mark 
         * Do not use transform - bug with mark size when checkbox is set on/off
         */
        &--mark-icon {
            .input-checkbox {
                &__mark {
                    position: absolute;
                    top: 10%;
                    left: 10%;
                    opacity: 0;
                    transition+: opacity @time-transition;
                    transition+: fill @time-transition; // Size
                    width: 80%;
                    height: 80%; // Style
                    fill: @color-primary;
                }
            }
        }

        /**
         * Style for using color fill for checkbox element mark 
         * Do not use transform - bug with mark size when checkbox is set on/off
         */
        &--mark-color {
            &:before {
                content: '';
                position: absolute;
                top: 5%;
                left: 5%;
                opacity: 0;
                transition+: opacity @time-transition;
                transition+: background-color @time-transition; // Size
                width: 90%;
                height: 90%; // Style
                background-color: @color-primary;
            }
        }
    }
    /* Clickable label toggle checkbox */
    &__label {
        cursor: pointer;
        display: block; // Space for checkbox
        padding-left: 30px;

        // Hover
        .add-hover({
            .input-checkbox {
                /* Fake checkbox element */
                &__input {
                    border-color: @color-black;
                }
            }
        });
    }

    /* Toggle checkbox element */
    input:checked {
        & + .input-checkbox {
            &__label .input-checkbox__input {
                /* Style for using SVG for checkbox element mark */
                &--mark-icon .input-checkbox__mark {
                    opacity: 1;
                }
                /* Style for using color fill for checkbox element mark */
                &--mark-color {
                    &:before {
                        opacity: 1;
                    }
                }
            }
        }
    }
}

/**
 * Input Radio
 */
.input-radio {

    /* Fake radio input */
    &__input {
        // Size
        width: 20px;
        height: 20px; 
        // Position
        position: absolute;
        top: 0;
        left: 0; 
        // Style
        border-radius: 50%;
        border: 1px solid @color-primary;
        // Transition
        transition+: border-color @time-transition; 
        
        /* Radio element mark color */
        &:before {
            content: '';
            // Position
            transform+_: translate(-50%, -50%);
            position: absolute;
            top: 50%;
            left: 50%;
            // Transition
            transition+: opacity @time-transition;
            transition+: background-color @time-transition; 
            // Size
            width: 14px;
            height: 14px; 
            // Style
            border-radius: 50%;
            background-color: @color-primary;
            // Animation
            opacity: 0;
        }

        /* Radio element mark icon */
        &--mark-icon {
            
        }
    }

    /* Mark icon */
    &__mark {
        // Position
        position: absolute;
        top: 50%;
        left: 50%;
        transform+_: translate(-50%, -50%);
        // Size
        width: 16px;
        height: 16px;
        // Style
        fill: @color-primary;
        // Transition
        transition+: fill @time-transition;
        // Animation
        opacity: 0;
    }


    /* Clickable label toggle radio */
    &__label {
        cursor: pointer;
        display: block; // Space for radio
        padding-left: 30px;
    }

    /* Hover */
    input {
        & + .input-radio {
            &__label {
                .add-hover({
                    .input-radio {
                        /* Fake radio element */
                        &__input {
                            border-color: @color-black;
                        }
                    }
                });
            }
        }
    }

    /* Toggle */
    input:checked {
        & + .input-radio {
            /* Radio element mark fill */
            &__label .input-radio__input--mark-color {
                &:before {
                    opacity: 1;
                }
            }
            /* Radio element mark icon */
            &__label .input-radio__mark {
                opacity: 1;
            }
        }
    }
}

/**
  * Input
**/

.input-text {
    transition+: border-color @time-transition;
    transition+: color @time-transition; // Size
    height: 38px;
    padding: 4px 12px;
    font-size: 18px; // Style
    border: 1px solid @color-primary;
    border-radius: 8px;
    color: @color-primary;
    width: 100%;
    /* Placeholder text style */
    .add-placeholder( {
        transition+: color @time-transition;
        font-style: italic;
        color: @color-primary;
    }
    ); // State: hover
    &:hover {
        border-color: fade(@color-black, 60%);
        color: fade(@color-black, 60%);
        .add-placeholder( {
            color: fade(@color-black, 60%);
        }
        );
    } // State: active and focus
    &:active,
    &:focus {
        border-color: @color-black;
        color: @color-black;
        .add-placeholder( {
            color: @color-black;
        }
        );
    } // Block input
    &--block {
        display: block;
        width: 100%;
    }
}

/**
  * Input group
**/

.input-group {
    // Space between groups
    &>&__item {
        position: relative;
        margin-bottom: 10px;
        &:last-child {
            margin-bottom: 0;
        }
    } // Full blocks children
    &--block {
        .input-group {
            &__item {
                &>* {
                    display: block;
                    width: 100%;
                }
            }
        }
    }
}

.form {
    position: relative;
    padding: 10px;

    // JS
    &__response-content {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
        opacity: 0;
        transition+: opacity @time-transition, opacity @time-transition @time-transition;
    }

    &__response {
        position: absolute;
        top: 50%;
        left: 50%;
        width: auto;
        transform+_: translate(-50%, -50%);
        transition+: opacity @time-transition, opacity @time-transition @time-transition;
        z-index: -1;
        opacity: 0;
        &--wait {

        }
        &--msg {
            width: 100%;
            font-size: 16px;
            text-align: center;
            font-weight: 700;
        }
    }
}

/**
 * JavaScript form class 
*/

.js_form {
    &--run {
        .form {
            &__content {
                user-select: none;
                pointer-events: none;
                filter: blur(2px);
                opacity: 0.3;
            }
            &__response-content {
                opacity: 1;
                z-index: 1;
            }
        }
    }
    &--wait {
        .form {
            &__response {
                &--wait {
                    opacity: 1;
                    z-index: 1;
                }
            }
        }
    }
    &--msg {
        .form {
            &__response {
                &--msg {
                    opacity: 1;
                    z-index: 1;
                }
            }
        }
    }
}
